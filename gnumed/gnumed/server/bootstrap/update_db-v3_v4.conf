# GNUmed database system bootstrapping config file
#-------------------------------------------------
# license: GPL
# author: Karsten Hilbert@gmx.net

#----------------------------------
[revision control]
file = $Source: /home/ncq/Projekte/cvs2git/vcs-mirror/gnumed/gnumed/server/bootstrap/update_db-v3_v4.conf,v $
version = $Revision: 1.7 $

#----------------------------------
[installation]
interactive = yes

keep temp files = no

description = $description$
This will update an existing GNUmed version 3
database to the version 4 schema. It does not do
any harm to the data contained within.

The existing database is cloned first. The copy is
then modified. The original database remains unchanged.
$description$

bundles = $bundles$
v3-v4-static
v3-v4-dynamic
$bundles$

#----------------------------------
[bundle v3-v4-static]
database alias = gnumed_v4
minimum postgresql version = 7.4
schema base directory = ../sql/v3-v4/static/
schema = $schema$
public-gm_services.sql
cfg-cfg_item.sql
cfg-cfg_str_array.sql
$schema$

#----------------------------------
[bundle v3-v4-dynamic]
database alias = gnumed_v4
minimum postgresql version = 7.4
schema base directory = ../sql/v3-v4/dynamic/
schema = $schema$
clin-episode.sql
blobs-v_latest_mugshot.sql
$schema$

#----------------------------------
[database gnumed_v4]
name = gnumed_v4
override name by = GM_CORE_DB
drop target database = 1
target version = v4
template database = gnumed_v3
template version = v3
server alias = local host
notification disable = 1
audit disable = 0
audit trail parent table = audit.audit_trail
audit trail table prefix = log_
audit fields table = audit.audit_fields
schema base directory = ../sql/v3-v4/
schema = $schema$
$schema$

superuser schema = $superuser schema$
superuser/transfer_users.sql
$superuser schema$

#----------------------------------
[server local host]
name = 
port = 5432
template database = template1
super user alias = postgres
schema base directory = ../sql/v3-v4/
schema = $schema$
$schema$

#----------------------------------
[user GNUmed owner]
name = gm-dbo
password = 

[user postgres]
name = postgres

#----------------------------------
# these really shouldn't be changed
#----------------------------------
[GnuMed defaults]

database owner alias = GNUmed owner

groups = $groups$
$groups$

#----------------------------------
# $Log: update_db-v3_v4.conf,v $
# Revision 1.7  2007-11-07 22:56:27  ncq
# - set notification disable = 1
#
# Revision 1.6  2007/04/20 08:23:54  ncq
# - delete temp files
#
# Revision 1.5  2007/02/18 12:21:28  ncq
# - drop target database if it exists
#
# Revision 1.4  2007/01/24 11:03:07  ncq
# - add Release 0.2.4 workplace
#
# Revision 1.3  2007/01/23 14:02:08  ncq
# - backport from 0.2.4:
#   - add static part
#   - expect v4 target hash
#
# Revision 1.2  2007/01/19 14:10:56  ncq
# - add blobs.v_latest_mugshot
#
# Revision 1.1  2007/01/04 22:55:31  ncq
# - new
#
# Revision 1.21  2007/01/03 11:55:47  ncq
# - enable target database hashing
#
