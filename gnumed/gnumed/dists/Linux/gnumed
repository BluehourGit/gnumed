#!/bin/sh

#==================================================
# This shell script is intended to be placed in
# /usr/bin/ and should be run to start a GNUmed
# client.
#
# $Source: /home/ncq/Projekte/cvs2git/vcs-mirror/gnumed/gnumed/dists/Linux/gnumed,v $
# $Id: gnumed,v 1.2 2005-07-11 16:46:41 ncq Exp $
# license: GPL
# Karsten Hilbert, Sebastian Hilbert
#--------------------------------------------------

# set -x

CONFSOURCE="/etc/gnumed/gnumed.conf"

echo "GNUmed startup"

# - make sure standard config file is there
# - people using --conf-file=<FILE> are on their own
if [ ! -s ${HOME}/.gnumed/gnumed.conf ] ; then
	if [ ! -e ${CONFSOURCE} ] ; then
		echo "Global config file ${CONFSOURCE} missing."
	else
		cp -v ${CONFSOURCE} ${HOME}/.gnumed/gnumed.conf
	fi
fi

# this ugly hack needs to go once we use proper
# distutil installation for the Python part
export PYTHONPATH="${PYTHONPATH}:/usr/lib/python/site-packages/Gnumed:/usr/lib/python/site-packages/Gnumed/wxpython:/usr/lib/python/site-packages/Gnumed/pycommon"

# now run it
python /usr/lib/python/site-packages/Gnumed/wxpython/gnumed.py $@
#--unicode-gettext=0
#--log-file=somewhere.log
#--conf-file=somewhere.conf
#--debug

#==================================================
# $Log: gnumed,v $
# Revision 1.2  2005-07-11 16:46:41  ncq
# - make more dumb but more robust
#
