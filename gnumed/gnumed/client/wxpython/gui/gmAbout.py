#!/usr/bin/python

#====================================================================
# About GNUMed
# licence: GPL
# Changelog:
# 05/02/03: inital version
#====================================================================
# $Source: /home/ncq/Projekte/cvs2git/vcs-mirror/gnumed/gnumed/client/wxpython/gui/Attic/gmAbout.py,v $
# $Id: gmAbout.py,v 1.1 2003-01-30 08:10:39 michaelb Exp $
__version__ = "$Revision: 1.1 $"
__author__ = "M.Bonert"

from wxPython.wx import *
from wxPython.calendar import *
import math, zlib, cPickle
import random

ID_MENU = wxNewId ()
ID_EXIT = wxNewId ()

#====================================================================
class AboutFrame (wxFrame):
	"""
	Frame class to show dates.
	"""

	# monty (original)
	__icons ={"""icon_gui_main""": 'x\xdae\x901\x0e\x830\x0cEwNa)\x03\x95\x90\xbe\xc2R\x18\xad\x0e\x19\xcb\xc0\
\x92\x15\xa1NEM\xef?\xd5&\tM\xc0\x06)\xefa;\t\xb7\xed\xdb7s\xdb\xdfI\x9e\x91\
\xfa\xb6Y\xe6\x16\xb4\xd2c[\xd6\xf7NF\xc88g%v\xf6\xca\xa3\x1d3O\xca\x83\x1b\
\\bV\xb6\xd6e\xeeb\xff\xc1!~\xd7\x8a\x9dI\xf8\x19>\xaf\x04\x1a\x00\xe2\x82\
\x0e\tx\xefQIU\x01\xa1\x92\x98\xa4\xaa\x93\xc4_j\xa7X\xc98 KNQJ!\x86\x91\xf7\
$a\x8c\xa9gj\xa3\x91<U2\xd2v\x95\xf48v*\xa4\xde\xe0"=\xd1E\xb2N,$\x81\xb9<}\
\xfe!\xe7\x1b\xe1\x07\xd3\xd7d\xf3'}

	# monty2
	__icons ={"""icon_gui_main""": 'x\xdae\x8f\xb1\x0e\x83 \x10\x86w\x9f\xe2\x92\x1blb\xf2\x07\x96\xeaH:0\xd6\
\xc1\x85\xd5\x98N5\xa5\xef?\xf5N\xd0\x8a\xdcA\xc2\xf7qw\x84\xdb\xfa\xb5\xcd\
\xd4\xda;\xc9\x1a\xc8\xb6\xcd<\xb5\xa0\x85\x1e\xeb\xbc\xbc7b!\xf6\xdeHl\x1c\
\x94\x073\xec<*\xf7\xbe\xf7\x99\x9d\xb21~\xe7.\xf5\x1f\x1c\xd3\xbdVlL\xc2\
\xcf\xf8ye\xd0\x00\x90\x0etH \x84\x80B\xaa\x8a\x88\x85\xc4(U\x9d$\xfeR;\xc5J\
\xa6\x01\xbbt9\xceR\xc8\x81e_$\x98\xb9\x9c\xa9\x8d,y\xa9t\xc8\xcf\x152\xe0x\
\xe9$\xf5\x07\x95\x0cD\x95t:\xb1\x92\xae\x9cI\xa8~\x84\x1f\xe0\xa3ec' }

	# monty2b
	__icons ={"""icon_gui_main""": 'x\xdae\x8f\xb1\x0e\x83 \x10\x86w\x9f\xe2\x92\x1blb\xf2\x07\x97\xeaH:0\xd6\
\xc1\x85\xd5\x98N5\xa5\xef?\xf5\x0e\xd0\n\xdea\xe2\xf7qw\xc0m\xfb\xf6\xcd\
\xdc\xf6w\x925R\xdf6\xcb\xdc\x82Vzl\xcb\xfa\x8e\xc4B\xec\x9c\x91\x88\xec\x95\
G3\xee<)\x0fnp\x99\xad\xb21n\xe7.\xf5\x1f\x1c\xd2\xbeVD&\xe1g\xf8\xbc2h\x00H\
?tH\xc0{\x8fB\xaa\n\x08\x85\xc4$U\x9d$\xfeR;\xc5J\xa6\x01\xbb\xb49\xceR\xc8\
\x82\xe5\xab$\x98\xb9\x9c\xa9\x8d,YUZ\xe4\xe3\n\xe9\xe98\xe9,\x11gW\x92\xe8*\
5jy\xba}~\xfb\xe5E\xf8\x01\xce\xa1e5'}


	# monty3
	__icons ={"""icon_gui_main""": 'x\xdam\x8f1\x0e\xc3 \x0c\x00\xf7\xbc\xc2\x12\x03\x95"Y\xb04\x8c\xa8\x03c2d\
\xf1\x1aE\x9d\x1a\x95\xfe\x7f\xaa\r!%\xa16H\xdca\x0c\xdc\xb6\x8f\xedfm\xef\
\xc0\xc3\x81\xd5\xdd2k\x84\x15\x1e\xdb\xb2\xbe\x12)&\x15\x82\xe1HL\xc2\xce\
\xb8\xc2\x93\xf0\x10\x86\xb0\xb3\x176&\x14\xee\xf3\xf9\x83c\xde\x97\x8a\xc4\
\xc0<\xc6\xf7s\x87\x14\x88\x98\x17\x87dCDX\xcbd"\xc6Z\xe2$U=\'\x1eR\xca\xc4r\
\xa6\x06E\xfa\x12\x95\x14\xf2\xa8x^$*\xa5N=\xb3\xe4l*\xf3m\'I\xf8\xe7"\x92\
\x1f4\x92\x00\x1a\xe9\xa5c#/\x8f\x87\x9f-\xef\xc4/\xf1Pf\x87'}

	# monty3c
	__icons ={"""icon_gui_main""": "x\xdam\x8f\xb1\n\xc3 \x10\x86\xf7<\xc5\x81\x82\x85\xc0a\x96&\xdd\xa4\x83c3d\
q\r\xa1SC\xed\xfbO\xbd\xbbT+\x9aS!\xdf\xe7\x9f\xe3\xbc\xec\x9f\xa1[\xccp\x05\
\xda7\x18L\xb7.\x06a\x83\xfb\xben/!M\xa4\xbc\xb7T\xc2\x81y\xb2S\xe2\x99y\xf4\
\xa3\xff\xb1c\xb6\xd6'\xee\x8f\xff3\xc7\xe3\x9e\x13\xc2@\xfc\x88\xef\xa7\x80\
J\xe1|)\x85\x88\xc7G\x96dB\x08XJ1\x11c)q\xe6TO\x0b\xb3\xe4\x18[Z\xd2 I\x97\
\xaa\x90L\n5\x9dZj\xadU\xd9\x93%\x055\xd6I<\xe9\x19N%\xbf\xa0\x91\x01\xa0\
\x91\x8e\xe7od5<\xfcm\x9a\x13\xbfM\xd2i`" }

	# monty4
	__icons ={"""icon_gui_main""": 'x\xdam\x8f1\x0e\xc3 \x0c\x00\xf7\xbc\xc2\x12\x03\x95"Y\xb04\x8c\xa8\x03c2d\
\xf1\x1aE\x9d\x1a\x95\xfe\x7f\xaa\r!\xa5!6H\xdca,s\xdb>\xb6\x9b\xb5\xbd\x03/\
\x07Vw\xcb\xac\x11Vxl\xcb\xfaJ\xa4\x98T\x08\x86#1\t;\xe3\nO\xc2C\x18\xc2\xce\
^\xd8\x98P\xb8\xcf\xef\x0f\x8e\xf9^*\x12\x03\xf3\x18\xdf\xcf\x1dR b>\x1c\x92\
\r\x11a-\x93\x89\x18k\x89\x93T\xf5\x9cxH)\x13\xcb\x99\x1a\x14\xe9KTR\xc8\xa3\
\xe2}\x92\xa8\x94\xfa\xeb\x99%gSy\xd1\x93.\xa5\xfc\xa0\x91\x04\xd0H/\xf37\
\xf24<\xfcl\x99\x13\xbf\xb1\x18f\x0f' }

	__icons ={ """monty""": 'x\xdae\x901\x0e\x830\x0cEwNa)\x03\x95\x90\xbe\xc2R\x18\xad\x0e\x19\xcb\xc0\
\x92\x15\xa1NEM\xef?\xd5&\tM\xc0\x06)\xefa;\t\xb7\xed\xdb7s\xdb\xdfI\x9e\x91\
\xfa\xb6Y\xe6\x16\xb4\xd2c[\xd6\xf7NF\xc88g%v\xf6\xca\xa3\x1d3O\xca\x83\x1b\
\\bV\xb6\xd6e\xeeb\xff\xc1!~\xd7\x8a\x9dI\xf8\x19>\xaf\x04\x1a\x00\xe2\x82\
\x0e\tx\xefQIU\x01\xa1\x92\x98\xa4\xaa\x93\xc4_j\xa7X\xc98 KNQJ!\x86\x91\xf7\
$a\x8c\xa9gj\xa3\x91<U2\xd2v\x95\xf48v*\xa4\xde\xe0"=\xd1E\xb2N,$\x81\xb9<}\
\xfe!\xe7\x1b\xe1\x07\xd3\xd7d\xf3'

,"""monty2""": 'x\xdae\x8f\xb1\x0e\x83 \x10\x86w\x9f\xe2\x92\x1blb\xf2\x07\x96\xeaH:0\xd6\
\xc1\x85\xd5\x98N5\xa5\xef?\xf5N\xd0\x8a\xdcA\xc2\xf7qw\x84\xdb\xfa\xb5\xcd\
\xd4\xda;\xc9\x1a\xc8\xb6\xcd<\xb5\xa0\x85\x1e\xeb\xbc\xbc7b!\xf6\xdeHl\x1c\
\x94\x073\xec<*\xf7\xbe\xf7\x99\x9d\xb21~\xe7.\xf5\x1f\x1c\xd3\xbdVlL\xc2\
\xcf\xf8ye\xd0\x00\x90\x0etH \x84\x80B\xaa\x8a\x88\x85\xc4(U\x9d$\xfeR;\xc5J\
\xa6\x01\xbbt9\xceR\xc8\x81e_$\x98\xb9\x9c\xa9\x8d,y\xa9t\xc8\xcf\x152\xe0x\
\xe9$\xf5\x07\x95\x0cD\x95t:\xb1\x92\xae\x9cI\xa8~\x84\x1f\xe0\xa3ec'

,"""monty2b""": 'x\xdae\x8f\xb1\x0e\x83 \x10\x86w\x9f\xe2\x92\x1blb\xf2\x07\x97\xeaH:0\xd6\
\xc1\x85\xd5\x98N5\xa5\xef?\xf5\x0e\xd0\n\xdea\xe2\xf7qw\xc0m\xfb\xf6\xcd\
\xdc\xf6w\x925R\xdf6\xcb\xdc\x82Vzl\xcb\xfa\x8e\xc4B\xec\x9c\x91\x88\xec\x95\
G3\xee<)\x0fnp\x99\xad\xb21n\xe7.\xf5\x1f\x1c\xd2\xbeVD&\xe1g\xf8\xbc2h\x00H\
?tH\xc0{\x8fB\xaa\n\x08\x85\xc4$U\x9d$\xfeR;\xc5J\xa6\x01\xbb\xb49\xceR\xc8\
\x82\xe5\xab$\x98\xb9\x9c\xa9\x8d,YUZ\xe4\xe3\n\xe9\xe98\xe9,\x11gW\x92\xe8*\
5jy\xba}~\xfb\xe5E\xf8\x01\xce\xa1e5'

,"""monty2c""": 'x\xdam\x8f\xbb\x0e\x830\x0cEw\xbe\xc2\x92\x07*!]\x85\xa50F\x1d2\x96\x81\xc5\
+B\x9d\x8a\x9a\xfe\xffT\x9b\x04Jh\xedD\xca9\xb1\xf3\xb8,\xef\xb6\x1a\xeb\xf6\
J:zj\xebj\x1ak\xd0L\xb7e\x9a\x9f+\xb1\x12\x87\xe04V\x16\xe3\xde\xf5\x1b\x0f\
\xc6]\xe8Bfo\xec\\\xd8\xb8I\xfd;\xc7\xb4o\x15+\x93\xf2=\xbe\x1e\x19,\x00\xa4\
\x05\xed\x12\x10\x11\x14\xd2TD,$\x06\xadj4\xf1\x95\xd6\xa9V3\x1d\xb0I\x9f\
\xe3(\x95<X\xe7I\x82\x99\xcb3\xad\x915O\x95\x1e\xf9\xbaB\n\xed7\x1d\xa5\xd8#\
\xce\x92\xe8W\xca\x9f\xca\xc3\xeb\xf3\xdf\x7f~\x84\x0f\xeeKe\x89'

,"""monty2d""": "x\xdam\x8f1\x0e\x830\x0cEwNa\xc9\x03\x95\x90\xbe\xc2R\x18\xa3\x0e\x19a`\xc9\
\x8aP\xa7\xa2\xa6\xf7\x9fj\x93@\x13\xa8\x1d$\xde\x8b\x9d\xc4\xb7\xf5\xd3VS\
\xdd\xdeIVOm]\xcdS\rZ\xe8\xb1\xce\xcbk#\x16b\xe7\x8c\xc4\xc6^\xb97\xfd\xce\
\xa3r\xe7:\x97\xd8*\x1b\xe3vnb\xff\xc1!\xeek\xc5\xc6$<\x84\xf73\x81\x06\x80\
\xf8C\x87\x04\xbc\xf7(\xa4\xaa\x80PH\x8cR\xd5H\xe2'\xb5S\xacd<`\x976E.\x85,X\
\xbe\x93\x043\x97gj#K\x9e*-\xd2u\xa5\xa4\xe3\xa6\\J\xf3U\xca`\x17\x89?\x95\
\xd9\xeb\xd3\xec\x97\x89\xf0\x05U\x0fc\x91"

,"""monty3""": 'x\xdam\x8f1\x0e\xc3 \x0c\x00\xf7\xbc\xc2\x12\x03\x95"Y\xb04\x8c\xa8\x03c2d\
\xf1\x1aE\x9d\x1a\x95\xfe\x7f\xaa\r!%\xa16H\xdca\x0c\xdc\xb6\x8f\xedfm\xef\
\xc0\xc3\x81\xd5\xdd2k\x84\x15\x1e\xdb\xb2\xbe\x12)&\x15\x82\xe1HL\xc2\xce\
\xb8\xc2\x93\xf0\x10\x86\xb0\xb3\x176&\x14\xee\xf3\xf9\x83c\xde\x97\x8a\xc4\
\xc0<\xc6\xf7s\x87\x14\x88\x98\x17\x87dCDX\xcbd"\xc6Z\xe2$U=\'\x1eR\xca\xc4r\
\xa6\x06E\xfa\x12\x95\x14\xf2\xa8x^$*\xa5N=\xb3\xe4l*\xf3m\'I\xf8\xe7"\x92\
\x1f4\x92\x00\x1a\xe9\xa5c#/\x8f\x87\x9f-\xef\xc4/\xf1Pf\x87'

,"""monty3c""": "x\xdam\x8f\xb1\n\xc3 \x10\x86\xf7<\xc5\x81\x82\x85\xc0a\x96&\xdd\xa4\x83c3d\
q\r\xa1SC\xed\xfbO\xbd\xbbT+\x9aS!\xdf\xe7\x9f\xe3\xbc\xec\x9f\xa1[\xccp\x05\
\xda7\x18L\xb7.\x06a\x83\xfb\xben/!M\xa4\xbc\xb7T\xc2\x81y\xb2S\xe2\x99y\xf4\
\xa3\xff\xb1c\xb6\xd6'\xee\x8f\xff3\xc7\xe3\x9e\x13\xc2@\xfc\x88\xef\xa7\x80\
J\xe1|)\x85\x88\xc7G\x96dB\x08XJ1\x11c)q\xe6TO\x0b\xb3\xe4\x18[Z\xd2 I\x97\
\xaa\x90L\n5\x9dZj\xadU\xd9\x93%\x055\xd6I<\xe9\x19N%\xbf\xa0\x91\x01\xa0\
\x91\x8e\xe7od5<\xfcm\x9a\x13\xbfM\xd2i`"

,"""monty4""": 'x\xdam\x8f1\x0e\xc3 \x0c\x00\xf7\xbc\xc2\x12\x03\x95"Y\xb04\x8c\xa8\x03c2d\
\xf1\x1aE\x9d\x1a\x95\xfe\x7f\xaa\r!\xa5!6H\xdca,s\xdb>\xb6\x9b\xb5\xbd\x03/\
\x07Vw\xcb\xac\x11Vxl\xcb\xfaJ\xa4\x98T\x08\x86#1\t;\xe3\nO\xc2C\x18\xc2\xce\
^\xd8\x98P\xb8\xcf\xef\x0f\x8e\xf9^*\x12\x03\xf3\x18\xdf\xcf\x1dR b>\x1c\x92\
\r\x11a-\x93\x89\x18k\x89\x93T\xf5\x9cxH)\x13\xcb\x99\x1a\x14\xe9KTR\xc8\xa3\
\xe2}\x92\xa8\x94\xfa\xeb\x99%gSy\xd1\x93.\xa5\xfc\xa0\x91\x04\xd0H/\xf37\
\xf24<\xfcl\x99\x13\xbf\xb1\x18f\x0f'}

	__clear_ctr=0

	def __init__ (self, parent):
		#wxFrame.__init__(self, parent, -1, _("About GNUMed"), size=wxSize(300, 400), style=wxMAXIMIZE)
		#wxFrame.__init__(self, parent, -1, _("About GNUMed"), size=wxSize(300, 200))
		wxFrame.__init__(self, parent, -1, _("About GNUMed"), size=wxSize(300, 250))

		icon = wxEmptyIcon()
		icon.CopyFromBitmap(self.getBitmap())
		self.SetIcon(icon)

		box = wxBoxSizer(wxVERTICAL)
		box.Add(0,0, 2)
		box.Add(wxStaticText(self, -1, "Monty the Serpent && the FSF Present"), 0, wxALIGN_CENTRE)
		box.Add(0,0, 3)

		txt=wxStaticText(self, -1, "GNUMed")
		txt.SetFont(wxFont(30, wxSWISS, wxNORMAL, wxNORMAL))
		box.Add(txt, 0, wxALIGN_CENTRE)

		#box.Add(0,0, 1)
		box.Add(wxStaticText(self, -1, "The Best in eMedicine for GPs"), 0, wxALIGN_CENTRE)

		box.Add(0,0, 3)
		box.Add(wxStaticText(self, -1, "Version X.X.X brought to you by"), 0, wxALIGN_CENTRE)
		box.Add(wxStaticText(self, -1, "Drs Horst Herb && Karsten Hilbert"), 0, wxALIGN_CENTRE)


		self.changing_txt=wxTextCtrl(self, -1, "Dr Richard Terry", size=(220,20))
		box.Add(self.changing_txt, 0, wxALIGN_CENTRE)
		box.Add(0,0, 1)
		box.Add(wxStaticText(self, -1, "Please visit http://www.gnumed.org/ for more info"), 0, wxALIGN_CENTRE)
		box.Add(0,0, 1)

		btn = wxButton(self, ID_MENU , "Close")
		box.Add(btn,0, wxALIGN_CENTRE)
		box.Add(0,0, 1)

		EVT_BUTTON(btn, ID_MENU, self.OnClose)

		EVT_TIMER(self, -1, self.OnTimer)
		self.timer = wxTimer(self, -1)
		self.timer.Start(40)


		self.SetAutoLayout(true)
 		self.SetSizer(box)
 		self.Layout()

		self.__clear_ctr=0
	def getBitmap (self):
		# used for:
		# (1) defintion the window icon
		#return wxBitmapFromXPMData(cPickle.loads(zlib.decompress( self.__icons[_("""icon_gui_main""")] )))
		return wxBitmapFromXPMData(cPickle.loads(zlib.decompress( self.__icons[_("""monty2""")] )))

	def OnClose (self, event):
		self.timer.Stop ()
		self.Destroy ()

	def OnTimer(self, evt):
		self.__clear_ctr=self.__clear_ctr+1
		if( self.__clear_ctr<16 or self.__clear_ctr>46):	# used to pause text
			self.changing_txt.Replace(0,0,' ')		# nasty trick to make the text scroll


#====================================================================
# Main
#====================================================================
if __name__ == '__main__':
	# set up dummy app
	class TestApp (wxApp):
		def OnInit (self):
			frame = AboutFrame(None)
			frame.Show(1)
			return 1
	#---------------------
	import gettext
	_ = gettext.gettext
	gettext.textdomain ('gnumed')
	app = TestApp ()
	app.MainLoop ()
else:
	# plugin()ize
	import gmPlugin

	class gmAbout (gmPlugin.wxBasePlugin):
		def name (self):
			return 'About GNUMed'
		#---------------------
		def register (self):
			menu=self.gb['main.helpmenu']
			menu.Append(ID_MENU, _("About..."), _("About..."))
			EVT_MENU (self.gb['main.frame'], ID_MENU, self.OnTool)

		#---------------------
		def unregister (self):
			menu.self.gb['main.helpmenu']
			menu.Delete (ID_MENU)
		#---------------------
		def OnTool (self, event):
			frame = AboutFrame (self.gb['main.frame'])
			frame.Show (1)
