
<!-- all data is assumed to be locatable , time person place -->
<application>

<data mapping="sql" locatable="default">


	<MedicalRecord>
		<Demographic/>
		<Clinical/>
	</MedicalRecord>
	
	<Demographic>
		<Person/>
		<Contact/>
		<Address/>
	</Demographic>
	<Contact>
		<Phone type="numeric" map="true" mapKeys="home,business,mobile"/>
		<Mobile type="numeric"/>
	</Contact>	

	<Identity>
		<Institutional map="true"/>
		<Person/>
		<Organization/>
	</Identity>	
	
	<Person>
		<Dob type="date"/>
		<Dod type="date"/>
		<PersonName/>
	</Person>
	
	<PersonName>
		<First type="string"/>
		<Last type="string"/>
	</PersonName>
	
	<Role>
		<RoleName/>
	</Role>
	
	<JobHolder>
		<Demographic/>
		<RoleName/>
	</JobHolder>	

		
	
	
	<Organization>
		<OrgName/>
		<Contact type="Identity" map="true" mapKeys="first,second"/>
	</Organization>	
	
	<Address>
		<Street/>
		<Street2/>
		<City/>
		<Postcode/>
	</Address>

	<Clinical>
		<ProgressNote set="true"/>
		<Examination/>
		<Measurement/>
		<Medication set="true"/>
		<Problem set="true"/>
		<Immunization set="true"/>
		<PastHistory set="true"/>
		<Allergy set="true"/>
		<FamilyHistory set="true"/>
		<SocHistory type="text"/>
		<Habits set="true"/>
		<Plan type="text"/>
		<Investigation/>
		<Referral/>
		<Document type="image"/>
	</Clinical>

	<ProgressNote>
		<Content type="text"/>
	</ProgressNote>
	
	<Measurement>
		<BP/>
		<Pulse/>
		<Temp/>
		<RespRate/>
		<Height/>
		<Weight/>
		<PEFR/>
		<Oximetry/>
	</Measurement>	
	<Medication>
		<Dated type="date"/>
		<Drug/>
		<Dose type="float"/>
		<Unit/>
		<Frequency type="int"/>
		<FrequencyUnit/>
		<Duration/>
		<Instructions/>
	</Medication>

	<Problem>
		<StartDate type="date"/>
		<EndDate type="date"/>
		<Code auto="true"/>
		<CodeSystem hidden="true"/>
		<Diagnosis/>
		<Comment/>
	</Problem>

	<PastHistory>
		<Dated type="date"/>
		<Diagnosis/>
		<Comment/>
	</PastHistory>
	<Allergy>
		<Dated/>
		<Drug/>
		<Reaction/>
		<Comment/>
	</Allergy>
	<FamilyHistory>
		<Relative/>
		<Diagnosis/>
		<AgeOnset/>
		<Mortal/>
		<Comment/>
	</FamilyHistory>
	<Habit>
		<Vice/>
		<Amount/>
		<Score/>
		<ScoreSystem/>
		<Relapses/>
		<Comment/>
	</Habit>	
	<Referral>
		<JobHolder/>
		<Include set="true" type="pathSet"/>
		<Note type="text"/>
	</Referral>	
		
		
</data>	

<view>
	<login type="databaseUser"/>
	<root>
	<pivot>MedicalRecord</pivot>
	<defaultFindPath>"MedicalRecord.Demographic.PersonName"</defaultFindPath>
	</root>
	<style>verticalBox</style>	
	<view>
		<style>shallowWidePanel</style>
		<data>MedicalRecord.Demographic</data>
		<readOnly>true</readOnly>
	</view>
	<view>	<style>singleLine</style>
		<highlight color="red">true</highlight>
		<data>MedicalRecord.Allergy.Drug</data>
		<readOnly>true</readOnly>
	</view>
	<view>
		<style>shallowWidePanel</style>
		<data>MedicalRecord.Clinical.ProgressNote</data>
		<actions>
			<create auto="true">true</create>
		</actions>
	<view>
		<style>tabbed<style>
		<defaultView>
			<style>formAndList</style>
			<orientation>horizontal</orientation>
			<formColumns="1"/>
			<actions basic="true"/>
		</defaultView>	
			
		<views>
			<view>
				<data>MedicalRecord.Demographic</data>
				<style>form</style>
				<cols>2</cols>
				<edit>true</edit>
			</view>
		
			<view>
				<style>sideToSide</style>
				<view>
					<style>formAndList</style>
					<orientation>vertical</orientation>
					<data>MedicalRecord.Clinical.Measurement</data>
					<actions basic="true"/>
				</view>
				<view>
					<style>Panel</style>
					<data>MedicalRecord.Examination</data>
					<actions>
						<create auto="true">true</edit>
					</actions>
				</view>
			</view>	
			<view>
				<style>default</style>
				<data>MedicalRecord.Clinical.Problem</data>
			</view>	
			<view>
				<style>default</style>
				<data>MedicalRecord.Clinical.PastHistory</data>
			</view>	
			<view>
				<style>default</style>
				<data>MedicalRecord.Clinical.Medication</data>
			</view>	

			<view>
				<style>default</style>
				<data>MedicalRecord.Clinical.Allergy</data>
			</view>	
			<view> 
				<style>default</style>
				<data>MedicalRecord.Clinical.Immunization</data>
			</view>
		</views>	
	</view>	
			
</view>

</application>

